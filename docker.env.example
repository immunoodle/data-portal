# Example Environment Configuration for MADI Data Portal
# Copy this file to docker.env and fill in your values

# === Database Configuration ===
DB_HOST=your-database-host
DB_PORT=5432
DB_NAME=your-database-name
DB_USER=your-db-user
DB_PASSWORD=your-db-password

# === Dex OIDC Authentication ===
# Your Dex server URL (must include https:// or http://)
DEX_ISSUER=https://dex.dartmouth.edu

# Optional: Internal Dex URL for backend communication (fixes hairpinning issues in K8s)
# DEX_INTERNAL_URL=http://dex-service:5556/dex

# OAuth client credentials (get from Dex admin)
DEX_CLIENT_ID=your-client-id
DEX_CLIENT_SECRET=your-client-secret

# Optional: Logout endpoint (usually auto-discovered)
DEX_LOGOUT_ENDPOINT=

# Optional: Custom CA certificate for SSL verification
# Only needed if you get SSL verification errors
# For Dartmouth's InCommon-signed Dex, provide the InCommon CA bundle
# For self-signed certificates, provide the self-signed cert
# Leave empty if using widely-trusted certificates (Let's Encrypt, DigiCert, etc.)
DEX_CA_CERT_PATH=

# Optional: Application redirect URI
# Usually auto-detected, but can override if needed
HOSTNAME=http://localhost:3838

# === Development Mode ===
# Set to 1 to bypass authentication with dummy user (dev only!)
# Set to 0 or remove for production
LOCAL_DEV=0
